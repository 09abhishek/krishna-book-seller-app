"use strict";(self.webpackChunkkrishna_book_seller=self.webpackChunkkrishna_book_seller||[]).push([[163],{163:(O,m,l)=>{l.r(m),l.d(m,{BookManagementModule:()=>rt});var s=l(9808),r=l(2382),f=l(1293),d=l(8921),t=l(1223),v=l(9019),b=l(520);let u=(()=>{class o{constructor(n){this.http=n,this.URL=v.N.baseUrl}getbookstoreList(n){return this.http.get(this.URL+"/book/class/"+n)}deleteBook(n){const e={headers:new b.WM({"Content-Type":"application/json"}),body:n};return this.http.delete(this.URL+"/book",e)}deletePublication(n){const e={headers:new b.WM({"Content-Type":"application/json"}),body:n};return this.http.delete(this.URL+"/publication",e)}getPublicationList(){return this.http.get(this.URL+"/publication")}updateBookDetails(n){return this.http.put(this.URL+"/book",n)}updatePublicationDetails(n){return this.http.put(this.URL+"/publication",n)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(b.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var _=l(8354),h=l(845),C=l(9783),g=l(4471);function x(o,c){if(1&o&&(t.ynx(0),t.TgZ(1,"option",10),t._uU(2),t.qZA(),t.BQk()),2&o){const n=c.$implicit;t.xp6(1),t.Q6J("value",n.name),t.xp6(1),t.Oqu(n.value)}}function k(o,c){1&o&&(t.ynx(0),t.TgZ(1,"div",11),t._UZ(2,"img",12),t.TgZ(3,"p",13),t._uU(4,"Please Select Class"),t.qZA()(),t.BQk())}function w(o,c){1&o&&(t.TgZ(0,"tr")(1,"th",18),t._uU(2,"Book Name "),t._UZ(3,"p-sortIcon",19),t.qZA(),t.TgZ(4,"th",20),t._uU(5,"Class"),t._UZ(6,"p-sortIcon",21),t.qZA(),t.TgZ(7,"th",22),t._uU(8,"Publication"),t._UZ(9,"p-sortIcon",23),t.qZA(),t.TgZ(10,"th",24),t._uU(11,"Qty"),t._UZ(12,"p-sortIcon",25),t.qZA(),t.TgZ(13,"th",26),t._uU(14,"MRP(\u20b9) "),t._UZ(15,"p-sortIcon",27),t.qZA(),t.TgZ(16,"th",28),t._uU(17,"Net Price(\u20b9) "),t._UZ(18,"p-sortIcon",29),t.qZA(),t.TgZ(19,"th",30),t._uU(20,"Action"),t.qZA()())}function y(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"tr",31)(1,"td")(2,"span",32),t._uU(3,"Book_Name"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span",32),t._uU(7,"class"),t.qZA(),t.TgZ(8,"span",33),t._uU(9),t.qZA()(),t.TgZ(10,"td")(11,"span",32),t._uU(12,"Publication"),t.qZA(),t.TgZ(13,"span",33),t._uU(14),t.qZA()(),t.TgZ(15,"td")(16,"span",32),t._uU(17,"Qty"),t.qZA(),t.TgZ(18,"span",33),t._uU(19),t.qZA()(),t.TgZ(20,"td")(21,"span",32),t._uU(22,"MRP"),t.qZA(),t.TgZ(23,"span",33),t._uU(24),t.qZA()(),t.TgZ(25,"td")(26,"span",32),t._uU(27,"Net_Price"),t.qZA(),t.TgZ(28,"span",33),t._uU(29),t.qZA()(),t.TgZ(30,"td",30)(31,"button",34),t.NdJ("click",function(){const i=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.updateBook(i))}),t.qZA(),t.TgZ(32,"button",35),t.NdJ("click",function(){const i=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.openConfirmationDialog(i.id))}),t.qZA()()()}if(2&o){const n=c.$implicit;t.xp6(4),t.hij(" ",n.name," "),t.xp6(5),t.Oqu(n.class_no),t.xp6(5),t.Oqu(n.publication.name),t.xp6(5),t.Oqu(n.quantity),t.xp6(5),t.Oqu(n.mrp),t.xp6(5),t.Oqu(n.net_price)}}function Z(o,c){1&o&&(t.TgZ(0,"tr")(1,"td",36),t._uU(2,"No Data found."),t.qZA()())}const U=function(){return[10,25,50]};function T(o,c){if(1&o&&(t.ynx(0),t.TgZ(1,"p-table",14),t.YNc(2,w,21,0,"ng-template",15),t.YNc(3,y,33,6,"ng-template",16),t.YNc(4,Z,3,0,"ng-template",17),t.qZA(),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("value",n.bookStoreList)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(7,U))("loading",n.loading)("paginator",!0)}}let q=(()=>{class o{constructor(n,e,a,i){this.bookManagementService=n,this.router=e,this.route=a,this.confirmationDialogService=i,this.intialPageLoaded=!1,this.bookStoreList=[],this.loading=!1,this.todayDate=new Date,this.subscriptions={},this.printExportData=[],this.classList=[{id:1,name:"infant",value:"Infant"},{id:2,name:"nursery",value:"Nursery"},{id:3,name:"prep",value:"Prep"},{id:4,name:"one",value:"1"},{id:5,name:"two",value:"2"},{id:6,name:"three",value:"3"},{id:7,name:"four",value:"4"},{id:8,name:"five",value:"5"},{id:9,name:"six",value:"6"},{id:10,name:"seven",value:"7"},{id:11,name:"eight",value:"8"},{id:12,name:"nine",value:"9"},{id:13,name:"ten",value:"10"},{id:14,name:"eleven",value:"11"},{id:14,name:"twelve",value:"12"}]}ngOnInit(){this.route.queryParams.subscribe(n=>{if(n&&n.classId){this.classId=n.classId;const e={};e.value=this.classId,this.onChangeClass(e)}})}onChangeClass(n){this.classId=n.value,this.loading=!0,this.bookManagementService.getbookstoreList(this.classId).subscribe({next:e=>{this.intialPageLoaded=!0,this.loading=!1,e&&e.data&&(e.data.forEach(a=>{a.class_no=this.getClassNo(this.classList,a.class)}),this.bookStoreList=e.data)},error:e=>{this.loading=!1,this.intialPageLoaded=!0},complete:()=>{this.loading=!1,this.intialPageLoaded=!0}})}getClassNo(n,e){let a="";return n.forEach(i=>{i.name==e&&(a=i.value)}),a}openConfirmationDialog(n){this.confirmationDialogService.confirm("Confirmation","Are you sure you want delete?","Okay","Cancel","danger","secondary").then(e=>{console.log("User confirmed:",e),e&&this.deleteBook(n)}).catch(()=>{console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}deleteBook(n){const e=[];e.push(n);const a={};a.bookId=e,this.bookManagementService.deleteBook(a).subscribe({next:i=>{i&&i.message&&(this.bookStoreList=this.bookStoreList.filter(p=>p.id!==n))},error:i=>{},complete:()=>{}})}updateBook(n){localStorage.setItem("BookDetails",JSON.stringify(n)),this.router.navigate(["book-management/manage-item-update"])}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(u),t.Y36(d.F0),t.Y36(d.gz),t.Y36(_.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-manage-item-list"]],decls:14,vars:4,consts:[[1,"content-wrapper"],[1,"content-heading"],[1,"content-details","flex"],[1,"content-field"],[1,"input-field"],["for","mysel"],["id","mysel",1,"search","select-drop",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"table-responsive"],[4,"ngIf"],[3,"value"],[1,"select-type","flex"],["src","assets/img/document.svg"],[1,"msg-type"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-customers",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","name"],["field","name"],["pSortableColumn","class_no"],["field","class_no"],["pSortableColumn","publication.name"],["field","publication.name"],["pSortableColumn","quantity"],["field","quantity"],["pSortableColumn","mrp"],["field","mrp"],["pSortableColumn","net_price"],["field","net_price"],[2,"width","8rem"],[1,"p-selectable-row"],[1,"p-column-title"],[1,"image-text"],["pButton","","type","button","icon","pi pi-pencil",1,"secondary",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"danger",3,"click"],["colspan","8",2,"text-align","center"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Manage Book Item"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"label",5),t._uU(8,"Class"),t.qZA(),t.TgZ(9,"select",6),t.NdJ("ngModelChange",function(i){return e.classId=i})("change",function(i){return e.onChangeClass(i.target)}),t.YNc(10,x,3,2,"ng-container",7),t.qZA()()(),t.TgZ(11,"div",8),t.YNc(12,k,5,0,"ng-container",9),t.YNc(13,T,5,8,"ng-container",9),t.qZA()()()),2&n&&(t.xp6(9),t.Q6J("ngModel",e.classId),t.xp6(1),t.Q6J("ngForOf",e.classList),t.xp6(2),t.Q6J("ngIf",!e.intialPageLoaded),t.xp6(1),t.Q6J("ngIf",e.intialPageLoaded))},dependencies:[s.sg,s.O5,r.YN,r.Kr,r.EJ,r.JJ,r.On,h.Hq,C.jx,g.iA,g.lQ,g.fz],styles:[".content-wrapper[_ngcontent-%COMP%]{padding:8px 19px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:10px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:50%}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:10%;color:gray}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{outline:0;width:50%;height:40px;line-height:15px;background:#fff;border:solid 1px #dfdfdf;border-radius:2px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{padding:20px 0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .p-button.p-button-icon-only[_ngcontent-%COMP%]{width:2rem;padding:.5rem 0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem;align-items:flex-end;justify-content:flex-end}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{padding:12px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{padding:6px 0 5px 15px!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button.p-button-icon-only{width:2rem;padding:.5rem 0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button:enabled:hover{background:none;color:#000;border-color:#000;outline:none!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button{color:#000;background:none;border:none;outline:none!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}"]}),o})();var M=l(7489),P=l(3770);function A(o,c){1&o&&(t.TgZ(0,"div",18),t._uU(1,"Book Name is required"),t.qZA())}function I(o,c){if(1&o&&(t.ynx(0),t.TgZ(1,"option",19),t._uU(2),t.qZA(),t.BQk()),2&o){const n=c.$implicit;t.xp6(1),t.Q6J("value",n.name),t.xp6(1),t.Oqu(n.value)}}function N(o,c){1&o&&(t.TgZ(0,"div",18),t._uU(1,"class is required"),t.qZA())}function L(o,c){if(1&o&&(t.ynx(0),t.TgZ(1,"option",19),t._uU(2),t.qZA(),t.BQk()),2&o){const n=c.$implicit;t.xp6(1),t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function F(o,c){1&o&&(t.TgZ(0,"div",18),t._uU(1,"publication is required"),t.qZA())}function Q(o,c){1&o&&(t.TgZ(0,"div",18),t._uU(1,"Quantity is required"),t.qZA())}function S(o,c){1&o&&(t.TgZ(0,"div",18),t._uU(1,"MRP is required"),t.qZA())}function B(o,c){1&o&&(t.TgZ(0,"div",18),t._uU(1,"net Price is required"),t.qZA())}let J=(()=>{class o{constructor(n,e,a,i,p){this.route=n,this.router=e,this.fb=a,this.bookManagementService=i,this.confirmationDialogService=p,this.subscriptions={},this.submitLoader=!1,this.publicationList=[],this.classList=[{id:1,name:"infant",value:"Infant"},{id:2,name:"nursery",value:"Nursery"},{id:3,name:"prep",value:"Prep"},{id:4,name:"one",value:"1"},{id:5,name:"two",value:"2"},{id:6,name:"three",value:"3"},{id:7,name:"four",value:"4"},{id:8,name:"five",value:"5"},{id:9,name:"six",value:"6"},{id:10,name:"seven",value:"7"},{id:11,name:"eight",value:"8"},{id:12,name:"nine",value:"9"},{id:13,name:"ten",value:"10"},{id:14,name:"eleven",value:"11"},{id:14,name:"twelve",value:"12"}]}ngOnInit(){this.initForm(),this.getpublicationList(),this.bookDetails=localStorage.getItem("BookDetails")?JSON.parse(localStorage.getItem("BookDetails")):"",this.fillbookForm(this.bookDetails)}initForm(){this.bookUpdateForm=this.fb.group({bookname:["",[r.kI.required]],class:["",[r.kI.required]],publication:["",[r.kI.required]],Quantity:[""],mrp:["",[r.kI.required]],netprice:["",[r.kI.required]]})}onSaveConfirmation(){this.bookUpdateForm.valid?this.openConfirmationDialog():this.validateAllFormFields(this.bookUpdateForm)}validateAllFormFields(n){Object.keys(n.controls).forEach(e=>{const a=n.get(e);a instanceof r.NI?a.markAsTouched({onlySelf:!0}):a instanceof r.cw&&this.validateAllFormFields(a)})}getpublicationList(){this.subscriptions.publicationList=this.bookManagementService.getPublicationList().subscribe(n=>{n&&n.data&&(this.publicationList=n.data)})}fillbookForm(n){this.bookUpdateForm.controls.bookname.setValue(n.name),this.bookUpdateForm.controls.class.setValue(n.class),this.bookUpdateForm.controls.publication.setValue(n.publication_id),this.bookUpdateForm.controls.Quantity.setValue(n.quantity),this.bookUpdateForm.controls.mrp.setValue(n.mrp),this.bookUpdateForm.controls.netprice.setValue(n.net_price),this.bookUpdateForm.controls.Quantity.disable()}openConfirmationDialog(){this.confirmationDialogService.confirm("Confirmation","Are you sure you want to Update Book!","Okay","Cancel","primary","secondary").then(n=>{console.log("User confirmed:",n),n&&this.SaveUser()}).catch(()=>{console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}SaveUser(){this.submitLoader=!0;const n=this.bookUpdateForm.getRawValue(),e=[],a={};a.id=this.bookDetails.id,a.name=n.bookname,a.stdClass=n.class,a.publicationId=n.publication,a.quantity=n.Quantity,a.mrp=n.mrp,a.netPrice=n.netprice,e.push(a),this.subscriptions.updateBook=this.bookManagementService.updateBookDetails(e).subscribe({next:i=>{i&&(this.submitLoader=!1,this.router.navigate(["/book-management/manage-item"],{queryParams:{classId:this.bookUpdateForm.value.class}}))},error:i=>{this.submitLoader=!1}})}cancel(){this.router.navigate(["/book-management/manage-item"],{queryParams:{classId:this.bookUpdateForm.value.class}})}ngOnDestroy(){(0,M.each)(this.subscriptions,n=>{n.unsubscribe()})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(d.gz),t.Y36(d.F0),t.Y36(r.qu),t.Y36(u),t.Y36(_.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-manage-item-update"]],decls:45,vars:10,consts:[[1,"content-wrapper"],[1,"content-heading"],[1,"content-details","flex"],[3,"formGroup"],[1,"content-field","flex"],[1,"input-field"],["type","text","formControlName","bookname"],["class","error-data position-error",4,"ngIf"],["id","mysel","formControlName","class",1,"search","select-drop"],[4,"ngFor","ngForOf"],["id","mysel","formControlName","publication",1,"search","select-drop"],["type","text","formControlName","Quantity","appOnlyNumber","","numericType","number"],["type","text","formControlName","mrp"],["type","text","formControlName","netprice"],[1,"content-btn","flex"],["type","button",1,"btn-save","button",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"hidden"],["type","button",1,"btn-cancel","button",3,"click"],[1,"error-data","position-error"],[3,"value"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Update Book details"),t.qZA()(),t.TgZ(5,"form",3)(6,"div",4)(7,"div",5)(8,"label"),t._uU(9,"Book Name"),t.qZA(),t._UZ(10,"input",6),t.YNc(11,A,2,0,"div",7),t.qZA(),t.TgZ(12,"div",5)(13,"label"),t._uU(14,"Class"),t.qZA(),t.TgZ(15,"select",8),t.YNc(16,I,3,2,"ng-container",9),t.qZA(),t.YNc(17,N,2,0,"div",7),t.qZA(),t.TgZ(18,"div",5)(19,"label"),t._uU(20,"Publication"),t.qZA(),t.TgZ(21,"select",10),t.YNc(22,L,3,2,"ng-container",9),t.qZA(),t.YNc(23,F,2,0,"div",7),t.qZA(),t.TgZ(24,"div",5)(25,"label"),t._uU(26,"Quantity"),t.qZA(),t._UZ(27,"input",11),t.YNc(28,Q,2,0,"div",7),t.qZA(),t.TgZ(29,"div",5)(30,"label"),t._uU(31,"MRP(\u20b9)"),t.qZA(),t._UZ(32,"input",12),t.YNc(33,S,2,0,"div",7),t.qZA(),t.TgZ(34,"div",5)(35,"label"),t._uU(36,"Net Price(\u20b9)"),t.qZA(),t._UZ(37,"input",13),t.YNc(38,B,2,0,"div",7),t.qZA(),t.TgZ(39,"div",14)(40,"button",15),t.NdJ("click",function(){return e.onSaveConfirmation()}),t._uU(41,"Update "),t._UZ(42,"span",16),t.qZA(),t.TgZ(43,"button",17),t.NdJ("click",function(){return e.cancel()}),t._uU(44,"Cancel"),t.qZA()()()()()()),2&n&&(t.xp6(5),t.Q6J("formGroup",e.bookUpdateForm),t.xp6(6),t.Q6J("ngIf",e.bookUpdateForm.controls.bookname.hasError("required")&&e.bookUpdateForm.controls.bookname.touched),t.xp6(5),t.Q6J("ngForOf",e.classList),t.xp6(1),t.Q6J("ngIf",e.bookUpdateForm.controls.class.hasError("required")&&e.bookUpdateForm.controls.class.touched),t.xp6(5),t.Q6J("ngForOf",e.publicationList),t.xp6(1),t.Q6J("ngIf",e.bookUpdateForm.controls.publication.hasError("required")&&e.bookUpdateForm.controls.publication.touched),t.xp6(5),t.Q6J("ngIf",e.bookUpdateForm.controls.Quantity.hasError("required")&&e.bookUpdateForm.controls.Quantity.touched),t.xp6(5),t.Q6J("ngIf",e.bookUpdateForm.controls.mrp.hasError("required")&&e.bookUpdateForm.controls.mrp.touched),t.xp6(5),t.Q6J("ngIf",e.bookUpdateForm.controls.netprice.hasError("required")&&e.bookUpdateForm.controls.netprice.touched),t.xp6(4),t.Q6J("hidden",!e.submitLoader))},dependencies:[s.sg,s.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,P.p],styles:[".content-wrapper[_ngcontent-%COMP%]{padding:8px 19px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:10px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]{margin-top:15px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:49%;padding:5px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:25%;color:gray}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:65%;height:40px;border:solid 1px #e8e8e8;padding:0 13px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#ffffff;opacity:.8}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:65%;height:75px;border:solid 1px #e8e8e8;padding:0 13px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{outline:0;width:65%;height:40px;line-height:15px;background:#fff;border:solid 1px #dfdfdf}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-datepicker table td{padding:.4rem!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-datepicker table td>span{width:1.5rem!important;height:1.5rem!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .ui-calendar .ui-datepicker{height:200px!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-button.p-button-icon-only{height:40px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-calendar .p-inputtext{height:40px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-calendar{width:65%}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]{width:100%;padding:20px 0;align-items:center;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border:none;width:100px;background-color:#000;color:#fff;text-align:center;padding:8px;margin:0 0 0 30px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-save[_ngcontent-%COMP%]{background-color:#007bff}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-cancel[_ngcontent-%COMP%]{background-color:#6c757d}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-delete[_ngcontent-%COMP%]{background-color:#e24c4c}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-update[_ngcontent-%COMP%]{background-color:#0dcaf0}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-print[_ngcontent-%COMP%]{background-color:#2563eb}.position-error[_ngcontent-%COMP%]{padding-left:25%}"]}),o})();function Y(o,c){1&o&&(t.TgZ(0,"tr")(1,"th",8),t._uU(2,"S No"),t._UZ(3,"p-sortIcon",9),t.qZA(),t.TgZ(4,"th",10),t._uU(5,"Publication Name"),t._UZ(6,"p-sortIcon",11),t.qZA(),t.TgZ(7,"th",12),t._uU(8,"Action"),t.qZA()())}function D(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"tr",13)(1,"td",14)(2,"span",15),t._uU(3,"S_No"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td",14)(6,"span",15),t._uU(7,"Publication_Name"),t.qZA(),t.TgZ(8,"span",16),t._uU(9),t.qZA()(),t.TgZ(10,"td",12)(11,"button",17),t.NdJ("click",function(){const i=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.updatePublication(i))}),t.qZA()()()}if(2&o){const n=c.$implicit,e=c.rowIndex;t.xp6(4),t.hij(" ",e+1," "),t.xp6(5),t.Oqu(n.name)}}function R(o,c){1&o&&(t.TgZ(0,"tr")(1,"td",18),t._uU(2,"No Data found."),t.qZA()())}const j=function(){return[10,25,50]};let E=(()=>{class o{constructor(n,e,a){this.bookManagementService=n,this.confirmationDialogService=e,this.router=a,this.publicationList=[],this.loading=!0}ngOnInit(){this.bookManagementService.getPublicationList().subscribe({next:n=>{this.loading=!1,n&&n.data&&(this.publicationList=n.data)},error:n=>{this.loading=!1},complete:()=>{this.loading=!1}})}openConfirmationDialog(n){this.confirmationDialogService.confirm("Confirmation","Are you sure you want delete?","Okay","Cancel","danger","secondary").then(e=>{console.log("User confirmed:",e),e&&this.deletepublication(n)}).catch(()=>{console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}deletepublication(n){const e=[];e.push(n);const a={};a.publicationId=e,this.bookManagementService.deletePublication(a).subscribe({next:i=>{i&&i.message&&(this.publicationList=this.publicationList.filter(p=>p.id!==n))},error:i=>{},complete:()=>{}})}updatePublication(n){localStorage.setItem("publicationDetails",JSON.stringify(n)),this.router.navigate(["book-management/manage-publication-update"])}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(u),t.Y36(_.O),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-manage-publication-list"]],decls:10,vars:8,consts:[[1,"content-wrapper"],[1,"content-heading"],[1,"content-details","flex"],[1,"table-responsive"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-customers",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","id"],["field","id"],["pSortableColumn","name"],["field","name"],[2,"width","8rem"],[1,"p-selectable-row"],[2,"width","40%"],[1,"p-column-title"],[1,"image-text"],["pButton","","type","button","icon","pi pi-pencil",1,"secondary",3,"click"],["colspan","8",2,"text-align","center"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Manage Publication"),t.qZA()(),t.TgZ(5,"div",3)(6,"p-table",4),t.YNc(7,Y,9,0,"ng-template",5),t.YNc(8,D,12,2,"ng-template",6),t.YNc(9,R,3,0,"ng-template",7),t.qZA()()()()),2&n&&(t.xp6(6),t.Q6J("value",e.publicationList)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(7,j))("loading",e.loading)("paginator",!0))},dependencies:[h.Hq,C.jx,g.iA,g.lQ,g.fz],styles:[".content-wrapper[_ngcontent-%COMP%]{padding:8px 19px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:10px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .p-button.p-button-icon-only[_ngcontent-%COMP%]{width:2rem;padding:.5rem 0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem;align-items:flex-end;justify-content:flex-end}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{padding:12px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{padding:6px 0 5px 15px!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button.p-button-icon-only{width:2rem;padding:.5rem 0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button:enabled:hover{background:none;color:#000;border-color:#000;outline:none!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button{color:#000;background:none;border:none;outline:none!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}"]}),o})();function H(o,c){1&o&&(t.TgZ(0,"div",17),t._uU(1,"Publication Name is required"),t.qZA())}function z(o,c){1&o&&(t.TgZ(0,"tr")(1,"th",18),t._uU(2,"Book Name "),t._UZ(3,"p-sortIcon",19),t.qZA(),t.TgZ(4,"th",20),t._uU(5,"Class"),t._UZ(6,"p-sortIcon",21),t.qZA()())}function $(o,c){if(1&o&&(t.TgZ(0,"tr",22)(1,"td",23)(2,"span",24),t._uU(3,"Book_Name"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td",23)(6,"span",24),t._uU(7,"class"),t.qZA(),t.TgZ(8,"span",25),t._uU(9),t.qZA()()()),2&o){const n=c.$implicit,e=t.oxw();t.xp6(4),t.hij(" ",n.name," "),t.xp6(5),t.Oqu(e.getClassNo(e.classList,n.class))}}function G(o,c){1&o&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2,"No List found."),t.qZA()())}const K=function(){return[10,25,50]};let V=(()=>{class o{constructor(n,e,a,i,p){this.route=n,this.router=e,this.fb=a,this.bookManagementService=i,this.confirmationDialogService=p,this.subscriptions={},this.submitLoader=!1,this.publicationList=[],this.loading=!1,this.classList=[{id:1,name:"infant",value:"Infant"},{id:2,name:"nursery",value:"Nursery"},{id:3,name:"prep",value:"Prep"},{id:4,name:"one",value:"1"},{id:5,name:"two",value:"2"},{id:6,name:"three",value:"3"},{id:7,name:"four",value:"4"},{id:8,name:"five",value:"5"},{id:9,name:"six",value:"6"},{id:10,name:"seven",value:"7"},{id:11,name:"eight",value:"8"},{id:12,name:"nine",value:"9"},{id:13,name:"ten",value:"10"},{id:14,name:"eleven",value:"11"},{id:14,name:"twelve",value:"12"}]}ngOnInit(){this.initForm(),this.publicationDetails=localStorage.getItem("publicationDetails")?JSON.parse(localStorage.getItem("publicationDetails")):"",this.fillPublicationForm(this.publicationDetails)}initForm(){this.publicationUpdateForm=this.fb.group({publicationName:["",[r.kI.required]]})}onSaveConfirmation(){this.publicationUpdateForm.valid?this.openConfirmationDialog():this.validateAllFormFields(this.publicationUpdateForm)}validateAllFormFields(n){Object.keys(n.controls).forEach(e=>{const a=n.get(e);a instanceof r.NI?a.markAsTouched({onlySelf:!0}):a instanceof r.cw&&this.validateAllFormFields(a)})}fillPublicationForm(n){this.publicationUpdateForm.controls.publicationName.setValue(n.name)}openConfirmationDialog(){this.confirmationDialogService.confirm("Confirmation","Are you sure you want to Update Publication!","Okay","Cancel","primary","secondary").then(n=>{console.log("User confirmed:",n),n&&this.SaveUser()}).catch(()=>{console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}SaveUser(){this.submitLoader=!0;const n=this.publicationUpdateForm.getRawValue(),e=[],a={};a.id=this.publicationDetails.id,a.name=n.publicationName,e.push(a),this.subscriptions.updateBook=this.bookManagementService.updatePublicationDetails(e).subscribe({next:i=>{i&&(this.submitLoader=!1,this.router.navigate(["/book-management/manage-publication"]))},error:i=>{this.submitLoader=!1}})}cancel(){this.router.navigate(["/book-management/manage-publication"])}getClassNo(n,e){let a="";return n.forEach(i=>{i.name==e&&(a=i.value)}),a}ngOnDestroy(){(0,M.each)(this.subscriptions,n=>{n.unsubscribe()})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(d.gz),t.Y36(d.F0),t.Y36(r.qu),t.Y36(u),t.Y36(_.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-manage-publication-update"]],decls:23,vars:11,consts:[[1,"content-wrapper"],[1,"content-heading"],[1,"content-details","flex"],[3,"formGroup"],[1,"content-field","flex"],[1,"input-field"],["type","text","formControlName","publicationName"],["class","error-data position-error",4,"ngIf"],[1,"content-btn","flex"],["type","button",1,"btn-save","button",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"hidden"],["type","button",1,"btn-cancel","button",3,"click"],[1,"table-responsive"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-customers",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"error-data","position-error"],["pSortableColumn","name"],["field","name"],["pSortableColumn","class"],["field","class"],[1,"p-selectable-row"],[2,"width","50%"],[1,"p-column-title"],[1,"image-text"],["colspan","8",2,"text-align","center"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Update Publication"),t.qZA()(),t.TgZ(5,"form",3)(6,"div",4)(7,"div",5)(8,"label"),t._uU(9,"Publication Name"),t.qZA(),t._UZ(10,"input",6),t.YNc(11,H,2,0,"div",7),t.qZA(),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return e.onSaveConfirmation()}),t._uU(14,"update "),t._UZ(15,"span",10),t.qZA(),t.TgZ(16,"button",11),t.NdJ("click",function(){return e.cancel()}),t._uU(17,"Cancel"),t.qZA()()(),t.TgZ(18,"div",12)(19,"p-table",13),t.YNc(20,z,7,0,"ng-template",14),t.YNc(21,$,10,2,"ng-template",15),t.YNc(22,G,3,0,"ng-template",16),t.qZA()()()()()),2&n&&(t.xp6(5),t.Q6J("formGroup",e.publicationUpdateForm),t.xp6(6),t.Q6J("ngIf",e.publicationUpdateForm.controls.publicationName.hasError("required")&&e.publicationUpdateForm.controls.publicationName.touched),t.xp6(4),t.Q6J("hidden",!e.submitLoader),t.xp6(4),t.Q6J("value",e.publicationDetails.Books)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(10,K))("loading",e.loading)("paginator",!0))},dependencies:[s.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,C.jx,g.iA,g.lQ,g.fz],styles:[".content-wrapper[_ngcontent-%COMP%]{padding:8px 19px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:10px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]{margin-top:15px;width:100%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:49%;padding:5px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:25%;color:gray}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:65%;height:40px;border:solid 1px #e8e8e8;padding:0 13px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#ffffff;opacity:.8}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:65%;height:75px;border:solid 1px #e8e8e8;padding:0 13px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]{padding:20px 0;align-items:center;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border:none;width:100px;background-color:#000;color:#fff;text-align:center;padding:8px;margin:0 0 0 30px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-save[_ngcontent-%COMP%]{background-color:#007bff}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-cancel[_ngcontent-%COMP%]{background-color:#6c757d}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-delete[_ngcontent-%COMP%]{background-color:#e24c4c}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-update[_ngcontent-%COMP%]{background-color:#0dcaf0}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-print[_ngcontent-%COMP%]{background-color:#2563eb}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{padding:20px 0}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .p-button.p-button-icon-only[_ngcontent-%COMP%]{width:2rem;padding:.5rem 0}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem;align-items:flex-end;justify-content:flex-end}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{padding:12px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{padding:6px 0 5px 15px!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button.p-button-icon-only{width:2rem;padding:.5rem 0}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button:enabled:hover{background:none;color:#000;border-color:#000;outline:none!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button{color:#000;background:none;border:none;outline:none!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}.position-error[_ngcontent-%COMP%]{padding-left:25%}"]}),o})();var X=l(605);function W(o,c){if(1&o&&(t.ynx(0),t.TgZ(1,"option",10),t._uU(2),t.qZA(),t.BQk()),2&o){const n=c.$implicit;t.xp6(1),t.Q6J("value",n.name),t.xp6(1),t.Oqu(n.value)}}function tt(o,c){1&o&&(t.TgZ(0,"div",11),t._UZ(1,"img",12),t.TgZ(2,"p",13),t._uU(3,"please Select class"),t.qZA()())}function nt(o,c){1&o&&(t.TgZ(0,"div",14),t._UZ(1,"app-loader"),t.qZA())}function et(o,c){1&o&&(t.TgZ(0,"tr")(1,"td",27)(2,"p",28),t._uU(3,"No Data found"),t.qZA()()())}function ot(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td")(3,"input",29),t.NdJ("change",function(a){const p=t.CHM(n).$implicit,pt=t.oxw(2);return t.KtG(pt.onSelectBook(a,p))}),t.qZA(),t._UZ(4,"label",30),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",31)(8,"input",32),t.NdJ("ngModelChange",function(a){const p=t.CHM(n).$implicit;return t.KtG(p.mrp=a)}),t.qZA()(),t.TgZ(9,"td",31)(10,"input",33),t.NdJ("ngModelChange",function(a){const p=t.CHM(n).$implicit;return t.KtG(p.oldquantity=a)}),t.qZA()(),t.TgZ(11,"td",31)(12,"input",34),t.NdJ("ngModelChange",function(a){const p=t.CHM(n).$implicit;return t.KtG(p.quantity=a)}),t.qZA()()(),t.BQk()}if(2&o){const n=c.$implicit,e=t.oxw(2);t.xp6(3),t.s9C("id",n.id),t.Q6J("checked",e.selectedBookIds.indexOf(n.id)>-1),t.xp6(1),t.s9C("for",n.id),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Q6J("ngModel",n.mrp),t.xp6(2),t.Q6J("ngModel",n.oldquantity),t.xp6(2),t.Q6J("ngModel",n.quantity)}}function at(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"table",16)(3,"thead")(4,"tr"),t._UZ(5,"th",17),t.TgZ(6,"th",18),t._uU(7,"Book List"),t.qZA(),t.TgZ(8,"th",19),t._uU(9,"Rate"),t.qZA(),t.TgZ(10,"th",20),t._uU(11,"Current Qty"),t.qZA(),t.TgZ(12,"th",21),t._uU(13,"Update Qty"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,et,4,0,"tr",9),t.YNc(16,ot,13,7,"ng-container",6),t.qZA()(),t.TgZ(17,"div",22)(18,"div",23)(19,"button",24),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.openConfirmationDialog())}),t._uU(20,"Update "),t._UZ(21,"span",25),t.qZA(),t.TgZ(22,"button",26),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.cancel())}),t._uU(23,"Reset"),t.qZA()()()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(15),t.Q6J("ngIf",0===n.bookList.length),t.xp6(1),t.Q6J("ngForOf",n.bookList),t.xp6(5),t.Q6J("hidden",!n.submitLoader)}}const ct=d.Bz.forChild([{path:"",redirectTo:"list",pathMatch:"full"},{path:"manage-item",component:q},{path:"manage-item-update",component:J},{path:"manage-quantity",component:(()=>{class o{constructor(n,e){this.bookManagementService=n,this.confirmationDialogService=e,this.bookList=[],this.intialPageLoader=!1,this.selectedBookIds=[],this.selectedBook=[],this.submitLoader=!1,this.subscriptions={},this.selectedBookListByid={},this.classList=[{id:1,name:"infant",value:"Infant"},{id:2,name:"nursery",value:"Nursery"},{id:3,name:"prep",value:"Prep"},{id:4,name:"one",value:"1"},{id:5,name:"two",value:"2"},{id:6,name:"three",value:"3"},{id:7,name:"four",value:"4"},{id:8,name:"five",value:"5"},{id:9,name:"six",value:"6"},{id:10,name:"seven",value:"7"},{id:11,name:"eight",value:"8"},{id:12,name:"nine",value:"9"},{id:13,name:"ten",value:"10"},{id:14,name:"eleven",value:"11"},{id:14,name:"twelve",value:"12"}]}ngOnInit(){}onChangeClass(n){this.intialPageLoader=!0,this.classId=n.value,this.subscriptions.bookList=this.bookManagementService.getbookstoreList(this.classId).subscribe(e=>{this.intialPageLoader=!1,this.bookList=[],this.selectedBookIds=[],this.selectedBook=[],e&&e.data&&(e.data.forEach(a=>{const i={};i.id=a.id,i.name=a.name,i.stdClass=a.class,i.publicationId=a.publication_id,i.mrp=a.mrp,i.netPrice=a.net_price,i.quantity=a.quantity,i.oldquantity=a.quantity,this.bookList.push(i),this.selectedBookIds.push(a.id)}),this.selectedBook=this.bookList)})}onSelectBook(n,e){const a=this.selectedBookIds.indexOf(e.id);a>-1?(this.selectedBook=this.selectedBook.filter(i=>i.id!==e.id),this.selectedBookIds.splice(a,1)):(this.selectedBook.push(e),this.selectedBookIds.push(e.id))}openConfirmationDialog(){this.confirmationDialogService.confirm("Confirmation","Are you sure you want to save?","Okay","Cancel","primary","secondary").then(n=>{console.log("User confirmed:",n),n&&this.updateBook()}).catch(()=>{console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}updateBook(){const n=[];this.selectedBook.length>0&&this.selectedBook.forEach(e=>{const a={};a.id=e.id,a.name=e.name,a.stdClass=e.stdClass,a.publicationId=e.publicationId,a.mrp=e.mrp,a.netPrice=e.netPrice,a.quantity=e.quantity?Number(e.quantity):"",n.push(a)}),this.subscriptions.updateBook=this.bookManagementService.updateBookDetails(n).subscribe({next:e=>{if(e){this.submitLoader=!1;const a={};a.value=this.classId,this.onChangeClass(a)}},error:e=>{this.submitLoader=!1}})}cancel(){const n={};n.value=this.classId,this.onChangeClass(n)}ngOnDestroy(){(0,M.each)(this.subscriptions,n=>{n.unsubscribe()})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(u),t.Y36(_.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-manage-quantity"]],decls:14,vars:5,consts:[[1,"content-wrapper"],[1,"content-heading"],[1,"content-details","flex"],[1,"content-field","flex"],[1,"input-field"],["id","mysel",1,"search","select-drop",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],["class","select-type flex",4,"ngIf"],["class","intial-loader",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"select-type","flex"],["src","assets/img/document.svg"],[1,"msg-type"],[1,"intial-loader"],[1,"table-responsive","inv-adm-tbl"],[1,"table"],[1,"inv-check"],[1,"inv-particular","text-center"],[1,"inv-rate","text-center"],[1,"inv-qty","text-center"],[1,"inv-amt","text-center"],[1,"content-btn-details","flex"],[1,"content-btn","flex"],["type","button",1,"btn-save","button",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"hidden"],["type","button",1,"btn-cancel","button",3,"click"],["height","250","colspan","5",2,"text-align","center","vertical-align","middle","background","white"],[2,"margin-top","20px"],["type","checkbox",1,"checkbox-custom",3,"id","checked","change"],[1,"checkbox-custom-label",3,"for"],[1,"text-center"],["type","text","disabled","","appOnlyNumber","","numericType","decimal",3,"ngModel","ngModelChange"],["type","text","appOnlyNumber","","disabled","","numericType","number",3,"ngModel","ngModelChange"],["type","text","appOnlyNumber","","numericType","number",3,"ngModel","ngModelChange"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Manage Quantity"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"label"),t._uU(8,"Class"),t.qZA(),t.TgZ(9,"select",5),t.NdJ("ngModelChange",function(i){return e.classId=i})("change",function(i){return e.onChangeClass(i.target)}),t.YNc(10,W,3,2,"ng-container",6),t.qZA()()()(),t.YNc(11,tt,4,0,"div",7),t.YNc(12,nt,2,0,"div",8),t.YNc(13,at,24,3,"ng-container",9),t.qZA()),2&n&&(t.xp6(9),t.Q6J("ngModel",e.classId),t.xp6(1),t.Q6J("ngForOf",e.classList),t.xp6(1),t.Q6J("ngIf",!e.classId),t.xp6(1),t.Q6J("ngIf",e.intialPageLoader&&e.classId),t.xp6(1),t.Q6J("ngIf",e.classId))},dependencies:[s.sg,s.O5,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On,P.p,X.R],styles:['.content-wrapper[_ngcontent-%COMP%]{padding:8px 19px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:10px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]{margin-top:15px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:50%;padding:5px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:10%;color:gray}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:65%;height:40px;border:solid 1px #e8e8e8;padding:0 13px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#ffffff;opacity:.8}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:65%;height:75px;border:solid 1px #e8e8e8;padding:0 13px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{outline:0;width:50%;height:40px;line-height:15px;background:#fff;border:solid 1px #dfdfdf}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-datepicker table td{padding:.4rem!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-datepicker table td>span{width:1.5rem!important;height:1.5rem!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .ui-calendar .ui-datepicker{height:200px!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-button.p-button-icon-only{height:40px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-calendar .p-inputtext{height:40px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-calendar{width:65%}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]{padding:0 0 20px}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;font-weight:600;font-family:sans-serif;color:#222426;vertical-align:top}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.inv-check[_ngcontent-%COMP%]{width:5%}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.inv-particular[_ngcontent-%COMP%]{width:50%}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.inv-rate[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.inv-qty[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.inv-amt[_ngcontent-%COMP%]{width:10%}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:white;font-size:14px;color:#000;padding:10px;vertical-align:middle}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:80%;height:35px;border:solid 1px #e8e8e8;padding:0 4px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .checkbox-custom-label[_ngcontent-%COMP%]{display:inline-block;position:relative;vertical-align:middle;margin:5px;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .checkbox-custom-label[_ngcontent-%COMP%]:before{display:inline-block;position:relative;vertical-align:middle;margin:5px;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%] + .checkbox-custom-label[_ngcontent-%COMP%]:before{content:"";background:#fff;border-radius:2px;border:2px solid rgba(73,80,87,.6509803922);display:inline-block;vertical-align:middle;width:20px;height:20px;padding:2px}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]:checked + .checkbox-custom-label[_ngcontent-%COMP%]:before{background:#0d6efd;border:1px solid #bfdbfe}.content-wrapper[_ngcontent-%COMP%]   .inv-adm-tbl[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .checkbox-custom[_ngcontent-%COMP%]:checked + .checkbox-custom-label[_ngcontent-%COMP%]:after{content:"";padding:2px;position:absolute;width:1px;height:17px;border:solid #fff;border-width:0 3px 3px 0;transform:rotate(45deg);top:5px;left:12px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]{width:100%;padding:0 40px 0 5px;justify-content:flex-end}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border:none;width:100px;background-color:#000;color:#fff;text-align:center;padding:8px;margin:0 0 0 30px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-save[_ngcontent-%COMP%]{background-color:#007bff}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-cancel[_ngcontent-%COMP%]{background-color:#6c757d}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-delete[_ngcontent-%COMP%]{background-color:#e24c4c}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-update[_ngcontent-%COMP%]{background-color:#0dcaf0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-print[_ngcontent-%COMP%]{background-color:#007bff}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]{width:22%}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px 10px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .content-btn-details[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40%;height:35px;border:solid 1px #e8e8e8;padding:0 4px;font-style:normal;background:#ffffff;opacity:.8}.content-wrapper[_ngcontent-%COMP%]   .select-type[_ngcontent-%COMP%]{margin-top:10px;justify-content:center;align-items:center;flex-direction:column;min-height:300px;background:white}.content-wrapper[_ngcontent-%COMP%]   .select-type[_ngcontent-%COMP%]   .msg-type[_ngcontent-%COMP%]{font-weight:500;padding-top:10px}.container-search[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:6px;margin-top:8px;font-size:17px;width:40%;border:1px solid #e8e8e8}.container-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;padding:6px 10px;margin-top:8px;margin-right:16px;background:#ddd;font-size:17px;border:none;cursor:pointer}.container-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ccc}.report-print[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:10px;padding-bottom:21px;border-bottom:1px solid black}.report-print[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border:none;color:#fff;text-align:center;padding:8px 25px;background-color:#2563eb}.report-print[_ngcontent-%COMP%]   .button.btn-reset[_ngcontent-%COMP%]{background-color:#6c757d}.position-error[_ngcontent-%COMP%]{padding-left:25%}']}),o})()},{path:"manage-publication",component:E},{path:"manage-publication-update",component:V}]);let rt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[u],imports:[s.ez,r.u5,r.UX,f.m,ct]}),o})()},9019:(O,m,l)=>{l.d(m,{N:()=>s});const s={production:!0,baseUrl:"http://localhost:8000/v1"}}}]);