"use strict";(self.webpackChunkkrishna_book_seller=self.webpackChunkkrishna_book_seller||[]).push([[523],{9523:(C,l,a)=>{a.r(l),a.d(l,{UserModule:()=>E});var p=a(9808),s=a(2382),t=a(1223),P=a(9019),_=a(520);let u=(()=>{class o{constructor(e){this.http=e,this.URL=P.N.baseUrl}register(e){const n=JSON.parse(JSON.stringify(e));return e.id?(delete n.id,this.http.put(this.URL+`/billing/invoice/${e.id}`,n)):this.http.post(this.URL+"/auth/register",e)}getUserList(){return this.http.get(this.URL+"/users")}deleteUser(e){const n={headers:new _.WM({"Content-Type":"application/json"}),body:e};return this.http.delete(this.URL+"/users",n)}updateUser(e){return this.http.put(this.URL+"/users",e)}getUserDetails(e){return this.http.get(this.URL+"/users/"+e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(_.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),O=(()=>{class o{constructor(e){this.userService=e,this.userType=[{name:"Admin",type:"admin"},{name:"Super Admin",type:"super_admin"},{name:"Accountant",type:"accountant"}],this.userDetails=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):""}ngOnInit(){this.getUserDetails()}getUserDetails(){this.userService.getUserDetails(this.userDetails.id).subscribe({next:e=>{e&&e.data&&(this.userInfo=e.data[0])},error:e=>{}})}getuserType(e){let n="";return this.userType.forEach(r=>{r.type==e&&(n=r.name)}),n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-profile"]],decls:26,vars:4,consts:[[1,"content-wrapper"],[1,"content-heading"],[1,"content-details","flex"],[1,"content-div"],[1,"content-item","flex"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"View Profile"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"label"),t._uU(8,"First Name"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()(),t.TgZ(11,"div",4)(12,"label"),t._uU(13,"Last Name"),t.qZA(),t.TgZ(14,"span"),t._uU(15),t.qZA()(),t.TgZ(16,"div",4)(17,"label"),t._uU(18,"User Name"),t.qZA(),t.TgZ(19,"span"),t._uU(20),t.qZA()(),t.TgZ(21,"div",4)(22,"label"),t._uU(23,"User Type"),t.qZA(),t.TgZ(24,"span"),t._uU(25),t.qZA()()()()()),2&e&&(t.xp6(10),t.Oqu(n.userInfo.first_name),t.xp6(5),t.Oqu(n.userInfo.last_name),t.xp6(5),t.Oqu(n.userInfo.username),t.xp6(5),t.Oqu(n.getuserType(n.userInfo.user_type)))},styles:[".content-wrapper[_ngcontent-%COMP%]{padding:8px 19px;background:white;height:calc(100vh - 5rem)}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:10px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-div[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-div[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{padding:9px 0}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-div[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:25%;color:gray;font-weight:700}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-div[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;color:gray}"]}),o})();var g=a(8921),b=a(7489),h=a(8354),M=a(3770);function v(o,i){1&o&&(t.TgZ(0,"div",18),t._uU(1,"First Name is required"),t.qZA())}function U(o,i){1&o&&(t.TgZ(0,"div",18),t._uU(1,"Last Name is required"),t.qZA())}function w(o,i){1&o&&(t.TgZ(0,"div",18),t._uU(1,"User Name is required"),t.qZA())}function Z(o,i){1&o&&(t.TgZ(0,"div",18),t._uU(1,"Password is required"),t.qZA())}function y(o,i){1&o&&(t.TgZ(0,"div",18),t._uU(1," Password Should Contain Minimum 5 Characters "),t.qZA())}function T(o,i){1&o&&(t.TgZ(0,"div",18),t._uU(1,"Confirm Password is required"),t.qZA())}function A(o,i){1&o&&(t.TgZ(0,"div",18),t._uU(1," Password Does Not Match "),t.qZA())}function x(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"option",21),t._uU(2),t.qZA(),t.BQk()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("value",e.type),t.xp6(1),t.Oqu(e.name)}}function q(o,i){1&o&&(t.TgZ(0,"div",18),t._uU(1,"Class is required"),t.qZA())}function F(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",5)(2,"label"),t._uU(3,"privilege Type"),t.qZA(),t.TgZ(4,"select",19),t.YNc(5,x,3,2,"ng-container",20),t.qZA(),t.YNc(6,q,2,0,"div",7),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.userType),t.xp6(1),t.Q6J("ngIf",e.userForm.controls.privalageType.hasError("required")&&e.userForm.controls.privalageType.touched)}}let f=(()=>{class o{constructor(e,n,r,c,d){this.fb=e,this.route=n,this.router=r,this.userService=c,this.confirmationDialogService=d,this.subscriptions={},this.submitLoader=!1,this.showPrivilage=!1,this.userType=[{name:"Super Admin",type:"super_admin"},{name:"Admin",type:"admin"},{name:"Accountant",type:"accountant"}]}ngOnInit(){this.initForm(),this.getRouteParams()}getRouteParams(){this.route.params.subscribe(e=>{e&&e.id?(this.userId=e.id,this.getUserDetails(this.userId),this.showPrivilage=!0):this.setPasswordValidatiors()})}getUserDetails(e){this.subscriptions.getUserDetails=this.userService.getUserDetails(e).subscribe({next:n=>{n&&n.data&&(this.userDetails=n.data[0],this.filluserForm(this.userDetails))},error:n=>{}})}initForm(){this.userForm=this.fb.group({username:["",[s.kI.required]],firstname:["",[s.kI.required]],lastname:["",[s.kI.required]],mobno:[""],privalageType:["",[s.kI.required]],password:["",[s.kI.maxLength(5)]],confirmPassword:[""]},{validator:this.mismatchingPasswords("password","confirmPassword")})}onSaveConfirmation(){this.userForm.valid?this.openConfirmationDialog():this.validateAllFormFields(this.userForm)}validateAllFormFields(e){Object.keys(e.controls).forEach(n=>{const r=e.get(n);r instanceof s.NI?r.markAsTouched({onlySelf:!0}):r instanceof s.cw&&this.validateAllFormFields(r)})}mismatchingPasswords(e,n){return r=>{if(r.controls[e].value!==r.controls[n].value)return{mismatchedPasswords:!0}}}filluserForm(e){this.userForm.get("username").setValue(e.username),this.userForm.get("firstname").setValue(e.first_name),this.userForm.get("lastname").setValue(e.last_name),this.userForm.get("privalageType").setValue(e.user_type),this.userForm.get("username").disable(),this.userForm.get("firstname").disable(),this.userForm.get("lastname").disable(),"super_admin"!==e.user_type&&this.userForm.get("privalageType").disable()}setPasswordValidatiors(){this.userForm.get("password").setValidators([s.kI.required]),this.userForm.get("password").updateValueAndValidity(),this.userForm.get("confirmPassword").setValidators([s.kI.required]),this.userForm.get("confirmPassword").updateValueAndValidity()}openConfirmationDialog(){this.confirmationDialogService.confirm("Confirmation","Are you sure you want to save User!","Okay","Cancel","primary","secondary").then(e=>{console.log("User confirmed:",e),e&&this.SaveUser()}).catch(()=>{console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}SaveUser(){this.submitLoader=!0;const e=this.userForm.getRawValue(),n={};this.userId?(n.id=this.userId,n.password=e.password,n.confirm_password=e.confirmPassword,"super_admin"===e.privalageType&&(n.user_type=e.privalageType)):(n.username=e.username,n.firstName=e.firstname,n.lastName=e.lastname,e.mobno&&(n.mobileNum=e.mobno),n.userType=e.privalageType,n.password=e.password),this.subscriptions.saveUser=this.userService.register(n).subscribe({next:r=>{r&&(this.submitLoader=!1,this.userForm.reset())},error:r=>{this.submitLoader=!1}})}reset(){this.userId?this.router.navigate(["/user/list"]):this.userForm.reset()}ngOnDestroy(){(0,b.each)(this.subscriptions,e=>{e.unsubscribe()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(g.gz),t.Y36(g.F0),t.Y36(u),t.Y36(h.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-user"]],decls:45,vars:13,consts:[[1,"content-wrapper"],[1,"content-heading"],[1,"content-details","flex"],[3,"formGroup"],[1,"content-field","flex"],[1,"input-field"],["type","text","formControlName","firstname"],["class","error-data position-error",4,"ngIf"],["type","text","formControlName","lastname"],["type","text","formControlName","username"],["type","text","maxlength","10","formControlName","mobno","appOnlyNumber","","numericType","number"],["type","password","formControlName","password","minlength","5"],["type","password","formControlName","confirmPassword"],[4,"ngIf"],[1,"content-btn","flex"],["type","button",1,"btn-save","button",3,"click"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"hidden"],["type","button",1,"btn-cancel","button",3,"click"],[1,"error-data","position-error"],["id","mysel","formControlName","privalageType",1,"search","select-drop"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4),t.qZA()(),t.TgZ(5,"form",3)(6,"div",4)(7,"div",5)(8,"label"),t._uU(9,"First Name"),t.qZA(),t._UZ(10,"input",6),t.YNc(11,v,2,0,"div",7),t.qZA(),t.TgZ(12,"div",5)(13,"label"),t._uU(14,"Last Name"),t.qZA(),t._UZ(15,"input",8),t.YNc(16,U,2,0,"div",7),t.qZA(),t.TgZ(17,"div",5)(18,"label"),t._uU(19,"User Name"),t.qZA(),t._UZ(20,"input",9),t.YNc(21,w,2,0,"div",7),t.qZA(),t.TgZ(22,"div",5)(23,"label"),t._uU(24,"Mobile No."),t.qZA(),t._UZ(25,"input",10),t.qZA(),t.TgZ(26,"div",5)(27,"label"),t._uU(28,"Password"),t.qZA(),t._UZ(29,"input",11),t.YNc(30,Z,2,0,"div",7),t.YNc(31,y,2,0,"div",7),t.qZA(),t.TgZ(32,"div",5)(33,"label"),t._uU(34,"Confirm Password"),t.qZA(),t._UZ(35,"input",12),t.YNc(36,T,2,0,"div",7),t.YNc(37,A,2,0,"div",7),t.qZA(),t.YNc(38,F,7,2,"ng-container",13),t.TgZ(39,"div",14)(40,"button",15),t.NdJ("click",function(){return n.onSaveConfirmation()}),t._uU(41),t._UZ(42,"span",16),t.qZA(),t.TgZ(43,"button",17),t.NdJ("click",function(){return n.reset()}),t._uU(44),t.qZA()()()()()()),2&e&&(t.xp6(4),t.hij("",n.userId?"Update":"Create"," User"),t.xp6(1),t.Q6J("formGroup",n.userForm),t.xp6(6),t.Q6J("ngIf",n.userForm.controls.firstname.hasError("required")&&n.userForm.controls.firstname.touched),t.xp6(5),t.Q6J("ngIf",n.userForm.controls.lastname.hasError("required")&&n.userForm.controls.lastname.touched),t.xp6(5),t.Q6J("ngIf",n.userForm.controls.username.hasError("required")&&n.userForm.controls.username.touched),t.xp6(9),t.Q6J("ngIf",n.userForm.controls.password.hasError("required")&&n.userForm.controls.password.touched),t.xp6(1),t.Q6J("ngIf",n.userForm.controls.password.touched&&n.userForm.get("password").hasError("minlength")),t.xp6(5),t.Q6J("ngIf",n.userForm.controls.confirmPassword.hasError("required")&&n.userForm.controls.confirmPassword.touched),t.xp6(1),t.Q6J("ngIf",n.userForm.controls.confirmPassword.touched&&n.userForm.hasError("mismatchedPasswords")),t.xp6(1),t.Q6J("ngIf",!n.showPrivilage||n.userDetails&&"super_admin"==n.userDetails.user_type),t.xp6(3),t.hij("",n.userId?"Update":"Save"," "),t.xp6(1),t.Q6J("hidden",!n.submitLoader),t.xp6(2),t.hij("",n.userId?"Cancel":"Reset"," "))},dependencies:[p.sg,p.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.wO,s.nD,s.sg,s.u,M.p],styles:[".content-wrapper[_ngcontent-%COMP%]{padding:8px 19px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:10px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]{margin-top:15px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:49%;padding:5px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:25%;color:gray}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:65%;height:40px;border:solid 1px #e8e8e8;padding:0 13px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#ffffff;opacity:.8}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:65%;height:75px;border:solid 1px #e8e8e8;padding:0 13px;font-style:normal}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{outline:0;width:65%;height:40px;line-height:15px;background:#fff;border:solid 1px #dfdfdf}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-datepicker table td{padding:.4rem!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-datepicker table td>span{width:1.5rem!important;height:1.5rem!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .ui-calendar .ui-datepicker{height:200px!important}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-button.p-button-icon-only{height:40px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-calendar .p-inputtext{height:40px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]     .p-calendar{width:65%}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]{width:100%;padding:20px 0;align-items:center;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border:none;width:100px;background-color:#000;color:#fff;text-align:center;padding:8px;margin:0 0 0 30px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-save[_ngcontent-%COMP%]{background-color:#007bff}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-cancel[_ngcontent-%COMP%]{background-color:#6c757d}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-delete[_ngcontent-%COMP%]{background-color:#e24c4c}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-update[_ngcontent-%COMP%]{background-color:#0dcaf0}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-field[_ngcontent-%COMP%]   .content-btn[_ngcontent-%COMP%]   .button.btn-print[_ngcontent-%COMP%]{background-color:#2563eb}.position-error[_ngcontent-%COMP%]{padding-left:25%}"]}),o})();var N=a(845),I=a(9783),m=a(4471);function S(o,i){1&o&&(t.ynx(0),t.TgZ(1,"th",21),t._uU(2,"Action"),t.qZA(),t.BQk())}function L(o,i){if(1&o&&(t.TgZ(0,"tr")(1,"th",8),t._uU(2,"S No "),t._UZ(3,"p-sortIcon",9),t.qZA(),t.TgZ(4,"th",10),t._uU(5,"User Name "),t._UZ(6,"p-sortIcon",11),t.qZA(),t.TgZ(7,"th",12),t._uU(8,"First Name"),t._UZ(9,"p-sortIcon",13),t.qZA(),t.TgZ(10,"th",14),t._uU(11,"Last Name "),t._UZ(12,"p-sortIcon",15),t.qZA(),t.TgZ(13,"th",16),t._uU(14,"Mobile No. "),t._UZ(15,"p-sortIcon",17),t.qZA(),t.TgZ(16,"th",18),t._uU(17,"Privilege Type"),t._UZ(18,"p-sortIcon",19),t.qZA(),t.YNc(19,S,3,0,"ng-container",20),t.qZA()),2&o){const e=t.oxw();t.xp6(19),t.Q6J("ngIf",e.userDetails&&e.userDetails.user_type&&"super_admin"==e.userDetails.user_type)}}function k(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"td",21)(2,"button",25),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.updateUser(r.id))}),t.qZA(),t.TgZ(3,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.openConfirmationDialog(r.id))}),t.qZA()(),t.BQk()}}function D(o,i){if(1&o&&(t.TgZ(0,"tr",22)(1,"td")(2,"span",23),t._uU(3,"S No"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span",23),t._uU(7,"User Name"),t.qZA(),t.TgZ(8,"span",24),t._uU(9),t.qZA()(),t.TgZ(10,"td")(11,"span",23),t._uU(12,"First Name"),t.qZA(),t.TgZ(13,"span",24),t._uU(14),t.qZA()(),t.TgZ(15,"td")(16,"span",23),t._uU(17,"Last Name"),t.qZA(),t.TgZ(18,"span",24),t._uU(19),t.qZA()(),t.TgZ(20,"td")(21,"span",23),t._uU(22,"Mobile No."),t.qZA(),t._uU(23),t.qZA(),t.TgZ(24,"td")(25,"span",23),t._uU(26,"Privilege Type"),t.qZA(),t._uU(27),t.qZA(),t.YNc(28,k,4,0,"ng-container",20),t.qZA()),2&o){const e=i.$implicit,n=i.rowIndex,r=t.oxw();t.xp6(4),t.hij(" ",n+1," "),t.xp6(5),t.Oqu(e.username),t.xp6(5),t.Oqu(e.first_name),t.xp6(5),t.Oqu(e.last_name),t.xp6(4),t.hij(" ",e.mobileno?e.mobileno:"--"," "),t.xp6(4),t.hij(" ",r.getuserType(e.user_type)," "),t.xp6(1),t.Q6J("ngIf",r.userDetails&&r.userDetails.user_type&&"super_admin"==r.userDetails.user_type)}}function J(o,i){1&o&&(t.TgZ(0,"tr")(1,"td",27),t._uU(2,"No Data found."),t.qZA()())}const Y=function(){return[10,25,50]},V=g.Bz.forChild([{path:"",redirectTo:"list",pathMatch:"full"},{path:"add",component:f},{path:"list",component:(()=>{class o{constructor(e,n,r){this.userService=e,this.confirmationDialogService=n,this.router=r,this.userList=[],this.loading=!1,this.userDetails=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):"",this.userType=[{name:"Admin",type:"admin"},{name:"Super Admin",type:"super_admin"},{name:"Accountant",type:"accountant"}]}ngOnInit(){this.userService.getUserList().subscribe({next:e=>{this.loading=!1,e&&e.data&&(this.userList=e.data)},error:e=>{this.loading=!1},complete:()=>{this.loading=!1}})}getuserType(e){let n="";return this.userType.forEach(r=>{r.type==e&&(n=r.name)}),n}openConfirmationDialog(e){this.confirmationDialogService.confirm("Confirmation","Are you sure you want delete?","Okay","Cancel","danger","secondary").then(n=>{console.log("User confirmed:",n),n&&this.deleteUserList(e)}).catch(()=>{console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}deleteUserList(e){const n=[];n.push(e);const r={};r.userId=n,this.userService.deleteUser(r).subscribe({next:c=>{c&&c.message&&(this.userList=this.userList.filter(d=>d.id!==e))},error:c=>{},complete:()=>{}})}updateUser(e){this.router.navigate(["user/update/",e])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u),t.Y36(h.O),t.Y36(g.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-user-list"]],decls:10,vars:8,consts:[[1,"content-wrapper"],[1,"content-heading"],[1,"content-details","flex"],[1,"table-responsive"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-customers",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","sno"],["field","sno"],["pSortableColumn","username"],["field","username"],["pSortableColumn","first_name"],["field","first_name"],["pSortableColumn","last_name"],["field","last_name"],["pSortableColumn","mobileno"],["field","mobileno"],["pSortableColumn","user_type"],["field","user_type"],[4,"ngIf"],[2,"width","8rem"],[1,"p-selectable-row"],[1,"p-column-title"],[1,"image-text"],["pButton","","type","button","icon","pi pi-user-edit",1,"secondary",3,"click"],["pButton","","type","button","icon","pi pi-trash",1,"danger",3,"click"],["colspan","8"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"User List"),t.qZA()()(),t.TgZ(5,"div",3)(6,"p-table",4),t.YNc(7,L,20,1,"ng-template",5),t.YNc(8,D,29,7,"ng-template",6),t.YNc(9,J,3,0,"ng-template",7),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("value",n.userList)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(7,Y))("loading",n.loading)("paginator",!0))},dependencies:[p.O5,N.Hq,I.jx,m.iA,m.lQ,m.fz],styles:[".content-wrapper[_ngcontent-%COMP%]{padding:8px 19px}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content-heading[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:10px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{padding:20px 0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .p-button.p-button-icon-only[_ngcontent-%COMP%]{width:2rem;padding:.5rem 0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-header{padding:1rem;text-align:left;font-size:1.5rem}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-paginator{padding:1rem;align-items:flex-end;justify-content:flex-end}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-thead>tr>th{padding:12px}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-datatable-tbody>tr>td{padding:6px 0 5px 15px!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button.p-button-icon-only{width:2rem;padding:.5rem 0}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button:enabled:hover{background:none;color:#000;border-color:#000;outline:none!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-button{color:#000;background:none;border:none;outline:none!important}.content-wrapper[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]     .p-datatable.p-datatable-customers .p-dropdown-label:not(.p-placeholder){text-transform:uppercase}"]}),o})()},{path:"update/:id",component:f},{path:"profile",component:O}]);var j=a(1293);let E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[u],imports:[p.ez,s.u5,s.UX,j.m,V]}),o})()},9019:(C,l,a)=>{a.d(l,{N:()=>p});const p={production:!0,baseUrl:"http://localhost:8000/v1"}}}]);